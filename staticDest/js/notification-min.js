"use strict";function removePayload(e){e.preventDefault();var a=e.target.getAttribute("payloadId");ajax.open("POST",full_address+"/api/notification/remove"),ajax.setRequestHeader("Content-Type","application/json"),ajax.setRequestHeader("token",token),ajax.send(JSON.stringify({id:a})),ajax.onload=function(){200===ajax.status&&4===ajax.readyState&&function(e){var a=document.getElementById(e);a.parentNode.removeChild(a)}(JSON.parse(ajax.response).id)}}io.on("notification:new",function(e){var a=document.querySelector("#newNote");if(null===a)document.querySelector(".notificationButton").classList.add("raining"),setTimeout(function(){document.querySelector(".notificationButton").classList.remove("raining")},2500);else{var t='<div id="'+e.id+'" class="payload">\n{icon}\n{title}\n{body}\n<div class="removeMessage material-icons" payloadId="'+e.id+'" onclick="removePayload(event);">delete</div>\n</div>';t=e.icon?t.replace("{icon}",'<img src="'+e.icon+'" class="icon">'):t.replace("{icon}",""),t=e.title?t.replace("{title}",'<p class="title">'+e.title+"</p>"):t.replace("{title}",""),t=e.link?t.replace("{body}",'<a href="'+e.link+'"><spam class="body">'+e.body+"</spam></a>"):t.replace("{body}",'<spam class="body">'+e.body+"</spam>"),a.innerHTML+=t}});