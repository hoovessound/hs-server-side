"use strict";function postComment(e){var t=new XMLHttpRequest;t.open("POST","/api/comment/add"),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("token",token),t.send(JSON.stringify({trackid:trackid,comment:e})),t.onload=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.response);input.value=null;var n=document.createElement("div");n.class="comment";var o=document.createElement("a");o.href=full_address+"/user/"+e.author.username,o.innerHTML=e.author.fullName;var m=document.createElement("p");m.innerHTML=e.commentObject.comment,n.appendChild(o),n.appendChild(m),comments.insertBefore(n,comments.firstChild)}}}var input=document.querySelector("#commentSession #input"),post=document.querySelector("#commentSession #post"),comments=document.querySelector("#comments");post.addEventListener("click",function(e){postComment(input.value)}),input.addEventListener("keydown",function(e){13===e.keyCode&&(e.preventDefault(),postComment(input.value))});